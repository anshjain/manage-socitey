{% extends "base.html" %}

{% load staticfiles i18n %}

{% block title %}{% trans "Home" %}{% endblock %}

{% block content %}
    <div class="bgimg-2 w3-display-container w3-opacity-min">
      <div class="w3-display-middle">
        <span class="w3-xxlarge w3-text-white w3-wide">VISITOR</span>
      </div>
    </div>

    <div class="w3-container w3-content w3-center w3-padding-64" style="max-width:800px" id="visitor">
        <p class="w3-center"><em>List of active Visitors</em></p>
        <table class="w3-table w3-bordered w3-table-all w3-centered" style="overflow: scroll;">
            <tr>
                <th>{% trans 'FLAT NUMBER' %}</th>
                <th>{% trans 'VISITOR NAME' %}</th>
                <th>{% trans 'NUMBER OF VISITOR' %}</th>
                <th>{% trans 'CHECK-IN TIME' %}</th>
            </tr>
            {% if visitorinfo %}
                {% for info in visitorinfo %}
                    <tr>
                        <td style="vertical-align:middle !important">{{info.flat_number}}</td>
                        <td style="vertical-align:middle !important">
                            {{ info.visitor.name }}
                        </td>
                        <td style="vertical-align:middle !important" class="w3-small">
                            {{ info.number_of_visitor }}
                        </td>
                        <td style="vertical-align:middle !important">
                            <button class="w3-button w3-black">
                                <b>{{info.check_in}}</b> <br>{% trans 'MARK CHECK-OUT' %}
                            </button>
                        </td>
                    </tr>
                {% endfor %}
            {% endif %}
        </table>
    </div>
{% endblock %}